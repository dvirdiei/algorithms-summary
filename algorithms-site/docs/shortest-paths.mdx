---
id: shortest-paths
title: מסלולים קצרים
description: אלגוריתמי דייקסטרה, בלמן-פורד ופלויד-וורשל למציאת מסלולים קצרים בגרפים
sidebar_label: מסלולים קצרים (Shortest Paths)
---

<div className="greedyDoc container">
  <p className="greedyDoc__badge">Shortest Paths</p>
  <h1>מסלולים קצרים בגרפים</h1>
  <p className="greedyDoc__lead">
    בעיית המסלולים הקצרים היא אחת הבעיות הבסיסיות ביותר בתורת הגרפים. המטרה: למצוא את המסלול 
    עם סכום משקלים מינימלי בין קודקודים בגרף ממושקל. יש מספר וריאציות: ממקור יחיד לכל היעדים, 
    או מכל קודקוד לכל קודקוד. לכל וריאציה יש אלגוריתם מתאים - דייקסטרה למשקלים חיוביים, 
    בלמן-פורד למשקלים שליליים, ופלויד-וורשל לכל הזוגות.
  </p>
  <ul className="greedyDoc__tags">
    <li>Dijkstra</li>
    <li>Bellman-Ford</li>
    <li>Floyd-Warshall</li>
    <li>DAG</li>
  </ul>
</div>

<figure className="conceptStory container" aria-label="מסלול קצר בגרף">
  <div className="conceptStory__canvas">
    <svg viewBox="0 0 600 280" role="img">
      <defs>
        <linearGradient id="spBg" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stopColor="#1a2d4d" />
          <stop offset="100%" stopColor="#0d1a30" />
        </linearGradient>
        <filter id="spGlow">
          <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <marker id="arrowSP" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#64f6c8" />
        </marker>
        <marker id="arrowGray" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#3d4d6b" />
        </marker>
      </defs>

      <rect width="600" height="280" fill="url(#spBg)" rx="16" />

      {/* קשתות לא במסלול (אפורות) */}
      <line x1="150" y1="80" x2="300" y2="60" stroke="#3d4d6b" strokeWidth="2" markerEnd="url(#arrowGray)" />
      <line x1="320" y1="60" x2="440" y2="80" stroke="#3d4d6b" strokeWidth="2" markerEnd="url(#arrowGray)" />
      <line x1="150" y1="95" x2="180" y2="160" stroke="#3d4d6b" strokeWidth="2" markerEnd="url(#arrowGray)" />

      {/* מסלול קצר (ירוק) */}
      <line x1="150" y1="80" x2="280" y2="130" stroke="#64f6c8" strokeWidth="4" markerEnd="url(#arrowSP)" filter="url(#spGlow)">
        <animate attributeName="stroke-opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite" />
      </line>
      <line x1="320" y1="140" x2="430" y2="80" stroke="#64f6c8" strokeWidth="4" markerEnd="url(#arrowSP)" filter="url(#spGlow)">
        <animate attributeName="stroke-opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite" begin="0.3s" />
      </line>
      <line x1="465" y1="95" x2="480" y2="180" stroke="#64f6c8" strokeWidth="4" markerEnd="url(#arrowSP)" filter="url(#spGlow)">
        <animate attributeName="stroke-opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite" begin="0.6s" />
      </line>

      {/* משקלים */}
      <text x="210" y="95" fill="#64f6c8" fontSize="14" fontWeight="bold">2</text>
      <text x="380" y="95" fill="#64f6c8" fontSize="14" fontWeight="bold">3</text>
      <text x="490" y="145" fill="#64f6c8" fontSize="14" fontWeight="bold">1</text>
      <text x="220" y="55" fill="#3d4d6b" fontSize="12">5</text>
      <text x="380" y="55" fill="#3d4d6b" fontSize="12">4</text>

      {/* קודקודים */}
      <circle cx="150" cy="80" r="22" fill="#fbbf24" stroke="#fff" strokeWidth="3" />
      <text x="150" y="87" fill="#fff" fontSize="16" fontWeight="bold" textAnchor="middle">S</text>

      <circle cx="300" cy="60" r="20" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
      <text x="300" y="67" fill="#fff" fontSize="14" fontWeight="bold" textAnchor="middle">A</text>

      <circle cx="300" cy="140" r="22" fill="#0d8bd4" stroke="#fff" strokeWidth="3" />
      <text x="300" y="147" fill="#fff" fontSize="16" fontWeight="bold" textAnchor="middle">B</text>

      <circle cx="450" cy="80" r="22" fill="#0d8bd4" stroke="#fff" strokeWidth="3" />
      <text x="450" y="87" fill="#fff" fontSize="16" fontWeight="bold" textAnchor="middle">C</text>

      <circle cx="200" cy="180" r="20" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
      <text x="200" y="187" fill="#fff" fontSize="14" fontWeight="bold" textAnchor="middle">D</text>

      <circle cx="490" cy="200" r="22" fill="#f97316" stroke="#fff" strokeWidth="3" />
      <text x="490" y="207" fill="#fff" fontSize="16" fontWeight="bold" textAnchor="middle">T</text>

      {/* כותרת */}
      <text x="300" y="255" fill="#64f6c8" fontSize="14" fontWeight="bold" textAnchor="middle">
        מסלול קצר S → B → C → T: משקל 2+3+1 = 6
      </text>
    </svg>
  </div>
  <figcaption className="conceptStory__caption">
    <h4>מציאת המסלול הקצר ביותר</h4>
    <p>
      המסלול הקצר ביותר מ-S ל-T עובר דרך B ו-C עם סכום משקלים 6. 
      מסלולים אחרים (כמו S→A→C→T) ארוכים יותר. האלגוריתמים שנלמד 
      מוצאים את המסלול האופטימלי ביעילות.
    </p>
    <ul>
      <li><strong>מקור יחיד:</strong> דייקסטרה, בלמן-פורד</li>
      <li><strong>כל הזוגות:</strong> פלויד-וורשל</li>
      <li><strong>DAG:</strong> אלגוריתם מבוסס סדר טופולוגי</li>
    </ul>
  </figcaption>
</figure>

<section className="conceptGrid container">
  <article className="conceptCard conceptCard--explain">
    <p className="conceptCard__label">בעיה</p>
    <h3 className="conceptCard__title">הגדרת הבעיה</h3>
    <p className="conceptCard__body">
      <strong>קלט:</strong> גרף ממושקל G = (V, E) עם פונקציית משקל w: E → ℝ וקודקוד מקור s
      <br/><br/>
      <strong>פלט:</strong> לכל קודקוד v, מצא את d[v] = משקל המסלול הקצר ביותר מ-s ל-v
      <br/><br/>
      <strong>הנחה:</strong> אין מעגל שלילי (סכום משקלים שלילי) - אחרת אין פתרון מוגדר!
    </p>
  </article>
  <article className="conceptCard conceptCard--algorithm">
    <p className="conceptCard__label">עיקרון</p>
    <h3 className="conceptCard__title">הרפיה (Relaxation)</h3>
    <p className="conceptCard__body">
      כל האלגוריתמים מבוססים על פעולת <strong>הרפיה</strong>:
      <br/><br/>
      <code>Relax(u, v, w):</code>
      <br/>
      <code>  if d[v] {'>'} d[u] + w(u,v):</code>
      <br/>
      <code>    d[v] = d[u] + w(u,v)</code>
      <br/>
      <code>    π[v] = u</code>
      <br/><br/>
      אם מצאנו דרך קצרה יותר ל-v דרך u - נעדכן!
    </p>
  </article>
  <article className="conceptCard conceptCard--solution">
    <p className="conceptCard__label">סוגי בעיות</p>
    <h3 className="conceptCard__title">וריאציות שונות</h3>
    <p className="conceptCard__body">
      <strong>Single-Source:</strong> ממקור s לכל הקודקודים
      <br/>
      → דייקסטרה (משקלים ≥ 0)
      <br/>
      → בלמן-פורד (משקלים כלשהם)
      <br/><br/>
      <strong>All-Pairs:</strong> מכל קודקוד לכל קודקוד
      <br/>
      → פלויד-וורשל: O(V³)
      <br/>
      → הפעלת Single-Source V פעמים
    </p>
  </article>
</section>

<section id="dijkstra" className="greedyDoc__section container">
  <header>
    <p className="greedyDoc__eyebrow">אלגוריתם 1</p>
    <h2>אלגוריתם דייקסטרה (Dijkstra)</h2>
  </header>
  
  <div className="greedyDoc__media">
    <article>
      <p>
        <strong>רעיון מרכזי:</strong> אלגוריתם חמדני שמרחיב את "ענן" הקודקודים שכבר חושב להם 
        המרחק הסופי. בכל שלב בוחרים את הקודקוד הקרוב ביותר שעדיין לא עובד.
      </p>
      <p>
        <strong>דרישה:</strong> כל משקלי הקשתות חייבים להיות ≥ 0!
      </p>
      <ol>
        <li>אתחל: d[s] = 0, לכל שאר הקודקודים d[v] = ∞</li>
        <li>הכנס את כל הקודקודים לתור עדיפויות Q לפי d</li>
        <li>כל עוד Q לא ריק: הוצא את u עם d מינימלי, ולכל שכן v של u בצע הרפיה</li>
      </ol>
      <p>
        <strong>מבנה נתונים:</strong> Min-Heap לניהול תור העדיפויות.
      </p>
    </article>
  </div>

  <div style={{ 
    direction: 'ltr', 
    textAlign: 'left',
    background: 'rgba(0, 0, 0, 0.4)',
    padding: '1.5rem',
    borderRadius: '12px',
    marginTop: '1rem',
    // הגדרות Flexbox ליישור מוחלט לשמאל
   
  }}>
    <pre className="greedyDoc__code" style={{
      fontFamily: 'Consolas, Monaco, "Courier New", monospace',
      fontSize: '0.9rem',
      lineHeight: '1.6',
      margin: 0,
      direction: 'ltr',
      textAlign: 'left',
      whiteSpace: 'pre'
    }}>
{`Dijkstra(G, w, s):
  1.  for each v ∈ V:
  2.      d[v] = ∞
  3.      π[v] = NIL
  4.  d[s] = 0
  5.  Q = Build-Min-Heap(V)  // by d values
  6.  S = ∅
  7.  while Q ≠ ∅:
  8.      u = Extract-Min(Q)
  9.      S = S ∪ {u}
 10.      for each v ∈ Adj[u]:
 11.          if d[v] > d[u] + w(u,v):
 12.              d[v] = d[u] + w(u,v)
 13.              π[v] = u
 14.              Decrease-Key(Q, v, d[v])

Time: O((V + E) log V) with binary heap
      O(E + V log V) with Fibonacci heap`}
    </pre>
</div>

  <div className="conceptGrid" style={{ marginTop: '2rem' }}>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">נכונות</p>
      <h3 className="conceptCard__title">למה זה עובד?</h3>
      <p className="conceptCard__body">
        כשמוציאים קודקוד u מה-heap, הוא כבר עם המרחק הסופי!
        <br/><br/>
        <strong>הוכחה באינדוקציה:</strong> כל קודקוד שנכנס ל-S יש לו מרחק סופי נכון.
        <br/><br/>
        <strong>למה צריך w ≥ 0?</strong> אחרת יכול להיות מסלול ארוך יותר שמוריד את המרחק דרך קשת שלילית.
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">סיבוכיות</p>
      <h3 className="conceptCard__title">ניתוח זמן ריצה</h3>
      <p className="conceptCard__body">
        <strong>עם ערימה בינארית:</strong>
        <br/>
        • Extract-Min: O(V log V) (V פעמים)
        <br/>
        • Decrease-Key: O(E log V) (E פעמים)
        <br/>
        <strong>סה"כ:</strong> O((V + E) log V)
        <br/><br/>
        <strong>עם ערימת פיבונאצ'י:</strong> O(E + V log V)
      </p>
    </article>
  </div>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#64f6c8', marginBottom: '1rem' }}>דוגמה ויזואלית: דייקסטרה</h4>
    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>
      
      <div style={{ background: 'rgba(0,0,0,0.3)', borderRadius: '8px', padding: '1rem' }}>
        <p style={{ textAlign: 'center', color: '#fbbf24', fontSize: '0.9rem', marginBottom: '0.5rem' }}>שלב 1: מתחילים מ-S</p>
        <svg viewBox="0 0 200 120" style={{ width: '100%' }}>
          <line x1="50" y1="40" x2="100" y2="80" stroke="#3d4d6b" strokeWidth="2" />
          <line x1="50" y1="40" x2="150" y2="40" stroke="#3d4d6b" strokeWidth="2" />
          <line x1="100" y1="80" x2="150" y2="40" stroke="#3d4d6b" strokeWidth="2" />
          
          <circle cx="50" cy="40" r="18" fill="#fbbf24" stroke="#fff" strokeWidth="2" />
          <text x="50" y="45" fill="#fff" fontSize="12" textAnchor="middle">S</text>
          <text x="50" y="70" fill="#64f6c8" fontSize="10" textAnchor="middle">d=0</text>
          
          <circle cx="100" cy="80" r="18" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
          <text x="100" y="85" fill="#fff" fontSize="12" textAnchor="middle">A</text>
          <text x="100" y="105" fill="#a0aec0" fontSize="10" textAnchor="middle">d=∞</text>
          
          <circle cx="150" cy="40" r="18" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
          <text x="150" y="45" fill="#fff" fontSize="12" textAnchor="middle">B</text>
          <text x="150" y="22" fill="#a0aec0" fontSize="10" textAnchor="middle">d=∞</text>
          
          <text x="70" y="55" fill="#a0aec0" fontSize="9">2</text>
          <text x="100" y="32" fill="#a0aec0" fontSize="9">4</text>
        </svg>
      </div>

      <div style={{ background: 'rgba(0,0,0,0.3)', borderRadius: '8px', padding: '1rem' }}>
        <p style={{ textAlign: 'center', color: '#fbbf24', fontSize: '0.9rem', marginBottom: '0.5rem' }}>שלב 2: עיבוד S, עדכון שכנים</p>
        <svg viewBox="0 0 200 120" style={{ width: '100%' }}>
          <line x1="50" y1="40" x2="100" y2="80" stroke="#64f6c8" strokeWidth="3" />
          <line x1="50" y1="40" x2="150" y2="40" stroke="#64f6c8" strokeWidth="3" />
          <line x1="100" y1="80" x2="150" y2="40" stroke="#3d4d6b" strokeWidth="2" />
          
          <circle cx="50" cy="40" r="18" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="3" />
          <text x="50" y="45" fill="#fff" fontSize="12" textAnchor="middle">S</text>
          <text x="50" y="70" fill="#64f6c8" fontSize="10" textAnchor="middle">d=0 ✓</text>
          
          <circle cx="100" cy="80" r="18" fill="#fbbf24" stroke="#fff" strokeWidth="2" />
          <text x="100" y="85" fill="#fff" fontSize="12" textAnchor="middle">A</text>
          <text x="100" y="105" fill="#64f6c8" fontSize="10" textAnchor="middle">d=2</text>
          
          <circle cx="150" cy="40" r="18" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
          <text x="150" y="45" fill="#fff" fontSize="12" textAnchor="middle">B</text>
          <text x="150" y="22" fill="#64f6c8" fontSize="10" textAnchor="middle">d=4</text>
          
          <text x="70" y="55" fill="#64f6c8" fontSize="9">2</text>
          <text x="100" y="32" fill="#64f6c8" fontSize="9">4</text>
        </svg>
      </div>

      <div style={{ background: 'rgba(0,0,0,0.3)', borderRadius: '8px', padding: '1rem' }}>
        <p style={{ textAlign: 'center', color: '#fbbf24', fontSize: '0.9rem', marginBottom: '0.5rem' }}>שלב 3: עיבוד A (הקטן ביותר)</p>
        <svg viewBox="0 0 200 120" style={{ width: '100%' }}>
          <line x1="50" y1="40" x2="100" y2="80" stroke="#64f6c8" strokeWidth="3" />
          <line x1="50" y1="40" x2="150" y2="40" stroke="#3d4d6b" strokeWidth="2" strokeDasharray="4,4" />
          <line x1="100" y1="80" x2="150" y2="40" stroke="#64f6c8" strokeWidth="3" />
          
          <circle cx="50" cy="40" r="18" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="3" />
          <text x="50" y="45" fill="#fff" fontSize="12" textAnchor="middle">S</text>
          <text x="50" y="70" fill="#64f6c8" fontSize="10" textAnchor="middle">d=0 ✓</text>
          
          <circle cx="100" cy="80" r="18" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="3" />
          <text x="100" y="85" fill="#fff" fontSize="12" textAnchor="middle">A</text>
          <text x="100" y="105" fill="#64f6c8" fontSize="10" textAnchor="middle">d=2 ✓</text>
          
          <circle cx="150" cy="40" r="18" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="3" />
          <text x="150" y="45" fill="#fff" fontSize="12" textAnchor="middle">B</text>
          <text x="150" y="22" fill="#64f6c8" fontSize="10" textAnchor="middle">d=3 ✓</text>
          
          <text x="125" y="55" fill="#64f6c8" fontSize="9">1</text>
        </svg>
        <p style={{ textAlign: 'center', color: '#a0aec0', fontSize: '0.8rem', marginTop: '0.5rem' }}>B עודכן: 2+1=3 {'<'} 4</p>
      </div>
    </div>
  </figure>
</section>

<section id="bellman-ford" className="greedyDoc__section container">
  <header>
    <p className="greedyDoc__eyebrow">אלגוריתם 2</p>
    <h2>אלגוריתם בלמן-פורד (Bellman-Ford)</h2>
  </header>
  
  <div className="greedyDoc__media">
    <article>
      <p>
        <strong>יתרון מרכזי:</strong> עובד גם עם קשתות שליליות ומזהה מעגלים שליליים!
      </p>
      <p>
        <strong>רעיון:</strong> לבצע הרפיה על כל הקשתות V-1 פעמים. 
        אחרי k איטרציות, יש לנו מסלולים קצרים עם לכל היותר k קשתות.
      </p>
      <ol>
        <li>אתחל: d[s] = 0, לכל שאר הקודקודים d[v] = ∞</li>
        <li>חזור V-1 פעמים: עבור על כל הקשתות ובצע הרפיה</li>
        <li>בדוק מעגל שלילי: אם אפשר עוד להוריד, יש מעגל שלילי</li>
      </ol>
    </article>
  </div>

  <div style={{ 
    direction: 'ltr', 
    textAlign: 'left',
    background: 'rgba(0, 0, 0, 0.4)',
    padding: '1.5rem',
    borderRadius: '12px',
    marginTop: '1rem',
    display: 'flex',
    flexDirection: 'column',

  }}>
    <pre className="greedyDoc__code" style={{
      fontFamily: 'Consolas, Monaco, "Courier New", monospace',
      fontSize: '0.9rem',
      lineHeight: '1.6',
      margin: 0,
      direction: 'ltr',
      textAlign: 'left',
      whiteSpace: 'pre'
    }}>
{`Bellman-Ford(G, w, s):
  1.  for each v ∈ V:
  2.      d[v] = ∞
  3.      π[v] = NIL
  4.  d[s] = 0
  5.  
  6.  for i = 1 to |V| - 1:
  7.      for each edge (u, v) ∈ E:
  8.          if d[v] > d[u] + w(u,v):
  9.              d[v] = d[u] + w(u,v)
 10.              π[v] = u
 11.  
 12.  // Check for negative cycle
 13.  for each edge (u, v) ∈ E:
 14.      if d[v] > d[u] + w(u,v):
 15.          return "Negative cycle exists!"
 16.  return TRUE

Time: O(V · E)`}
    </pre>
</div>

  <div className="conceptGrid" style={{ marginTop: '2rem' }}>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">נכונות</p>
      <h3 className="conceptCard__title">למה V-1 איטרציות?</h3>
      <p className="conceptCard__body">
        <strong>מסלול פשוט:</strong> מסלול ללא מעגלים יכול לעבור לכל היותר V-1 קשתות.
        <br/><br/>
        <strong>אינדוקציה:</strong> אחרי i איטרציות, d[v] = המרחק הקצר ביותר עם לכל היותר i קשתות.
        <br/><br/>
        לכן אחרי V-1 איטרציות, כל המרחקים הסופיים מחושבים.
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">מעגל שלילי</p>
      <h3 className="conceptCard__title">גילוי מעגל שלילי</h3>
      <p className="conceptCard__body">
        <strong>אם אפשר עוד להרפות:</strong> קיים מעגל שלילי!
        <br/><br/>
        <strong>למה?</strong> אם אין מעגל שלילי, אחרי V-1 איטרציות הכל מחושב. 
        אם עוד אפשר להוריד - יש מסלול עם יותר מ-V-1 קשתות, כלומר יש מעגל ששווה לעבור עליו שוב.
      </p>
    </article>
    <article className="conceptCard conceptCard--property">
      <p className="conceptCard__label">השוואה</p>
      <h3 className="conceptCard__title">דייקסטרה vs בלמן-פורד</h3>
      <p className="conceptCard__body">
        <strong>דייקסטרה:</strong> O((V+E) log V), רק משקלות ≥ 0
        <br/><br/>
        <strong>בלמן-פורד:</strong> O(V·E), תומך במשקלות שליליים, מזהה מעגלים שליליים
        <br/><br/>
        השתמש בדייקסטרה כשאפשר!
      </p>
    </article>
  </div>
</section>

<section id="dag-shortest" className="greedyDoc__section container">
  <header>
    <p className="greedyDoc__eyebrow">אלגוריתם 3</p>
    <h2>מסלולים קצרים ב-DAG</h2>
  </header>
  
  <div className="greedyDoc__media">
    <article>
      <p>
        <strong>DAG - גרף מכוון ללא מעגלים:</strong> מאפשר פתרון יעיל במיוחד!
      </p>
      <p>
        <strong>הפתרון:</strong> שילוב של <strong>מיון טופולוגי</strong> + <strong>הרפיה כמו בדייקסטרה</strong>!
      </p>
      <p>
        <strong>למה זה עובד?</strong> בסדר טופולוגי, כשמגיעים לקודקוד v - כל הקודקודים שיכולים 
        להוביל אליו כבר עובדו! לכן d[v] כבר סופי ונכון.
      </p>
      <ol>
        <li><strong>מיון טופולוגי:</strong> סדר את הקודקודים כך שכל קשת (u,v) מקיימת u לפני v</li>
        <li><strong>אתחול:</strong> d[s] = 0, לכל שאר הקודקודים d[v] = ∞</li>
        <li><strong>הרפיה בסדר:</strong> עבור על הקודקודים בסדר טופולוגי, לכל שכן בצע Relax</li>
      </ol>
      <p>
        <strong>יתרון גדול:</strong> עובד גם עם משקלות שליליים! (אין מעגלים בכלל, אז אין מעגל שלילי)
      </p>
    </article>
  </div>

  <div className="conceptGrid" style={{ marginTop: '1.5rem', marginBottom: '1.5rem' }}>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">שלב 1</p>
      <h3 className="conceptCard__title">מיון טופולוגי</h3>
      <p className="conceptCard__body">
        <strong>DFS עם זמני סיום:</strong>
        <br/>
        מריצים DFS ומסדרים לפי זמן סיום יורד.
        <br/><br/>
        <strong>סיבוכיות:</strong> O(V + E)
        <br/><br/>
        <strong>תוצאה:</strong> סדר שמבטיח שכל הקשתות "הולכות קדימה"
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">שלב 2</p>
      <h3 className="conceptCard__title">הרפיה (כמו דייקסטרה)</h3>
      <p className="conceptCard__body">
        <strong>עוברים בסדר טופולוגי:</strong>
        <br/>
        לכל קודקוד u, מרפים את כל השכנים v:
        <br/><br/>
        <code>if d[v] {'>'} d[u] + w(u,v):</code>
        <br/>
        <code>  d[v] = d[u] + w(u,v)</code>
        <br/><br/>
        <strong>סיבוכיות:</strong> O(V + E)
      </p>
    </article>
    <article className="conceptCard conceptCard--property">
      <p className="conceptCard__label">למה עובד?</p>
      <h3 className="conceptCard__title">ההבדל מדייקסטרה</h3>
      <p className="conceptCard__body">
        <strong>דייקסטרה:</strong> צריך heap כי לא יודעים מי הבא
        <br/><br/>
        <strong>DAG:</strong> הסדר הטופולוגי קובע! אין צורך ב-heap
        <br/><br/>
        <strong>לכן:</strong> O(V+E) במקום O((V+E) log V)
      </p>
    </article>
  </div>

  <div style={{ 
    direction: 'ltr', 
    textAlign: 'left',
    background: 'rgba(0, 0, 0, 0.4)',
    padding: '1.5rem',
    borderRadius: '12px',
    marginTop: '1rem',
    display: 'flex',
    flexDirection: 'column',

  }}>
    <pre className="greedyDoc__code" style={{
      fontFamily: 'Consolas, Monaco, "Courier New", monospace',
      fontSize: '0.9rem',
      lineHeight: '1.6',
      margin: 0,
      direction: 'ltr',
      textAlign: 'left',
      whiteSpace: 'pre'
    }}>
{`DAG-Shortest-Paths(G, w, s):
  1.  L = Topological-Sort(G)   // O(V + E)
  2.  
  3.  for each v ∈ V:
  4.      d[v] = ∞
  5.      π[v] = NIL
  6.  d[s] = 0
  7.  
  8.  for each u in L (topological order):
  9.      for each v ∈ Adj[u]:
 10.          if d[v] > d[u] + w(u,v):   // Relax(u, v, w)
 11.              d[v] = d[u] + w(u,v)
 12.              π[v] = u

Total Time: O(V + E)`}
    </pre>
</div>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#64f6c8', marginBottom: '1rem' }}>דוגמה: מיון טופולוגי → הרפיה</h4>
    <svg viewBox="0 0 600 200" style={{ width: '100%' }}>
      <defs>
        <marker id="arrow-dag2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#64f6c8" />
        </marker>
        <marker id="arrow-gray2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#3d4d6b" />
        </marker>
      </defs>
      
      {/* כותרות */}
      <text x="300" y="25" fill="#fbbf24" fontSize="14" fontWeight="bold" textAnchor="middle">הגרף המקורי (DAG)</text>
      
      {/* קשתות הגרף */}
      <line x1="100" y1="70" x2="175" y2="70" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-dag2)" />
      <line x1="100" y1="70" x2="145" y2="115" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-dag2)" />
      <line x1="220" y1="70" x2="295" y2="70" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-dag2)" />
      <line x1="170" y1="125" x2="295" y2="80" stroke="#3d4d6b" strokeWidth="2" markerEnd="url(#arrow-gray2)" />
      <line x1="340" y1="70" x2="415" y2="70" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-dag2)" />
      <line x1="200" y1="70" x2="415" y2="80" stroke="#3d4d6b" strokeWidth="2" strokeDasharray="4,4" markerEnd="url(#arrow-gray2)" />
      <line x1="460" y1="70" x2="535" y2="70" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-dag2)" />
      
      {/* משקלים */}
      <text x="135" y="60" fill="#64f6c8" fontSize="11" fontWeight="bold">3</text>
      <text x="115" y="100" fill="#64f6c8" fontSize="11" fontWeight="bold">6</text>
      <text x="255" y="60" fill="#64f6c8" fontSize="11" fontWeight="bold">2</text>
      <text x="230" y="100" fill="#a0aec0" fontSize="11">4</text>
      <text x="375" y="60" fill="#64f6c8" fontSize="11" fontWeight="bold">1</text>
      <text x="300" y="95" fill="#a0aec0" fontSize="11">7</text>
      <text x="495" y="60" fill="#64f6c8" fontSize="11" fontWeight="bold">2</text>
      
      {/* קודקודים */}
      <circle cx="80" cy="70" r="20" fill="#fbbf24" stroke="#fff" strokeWidth="2" />
      <text x="80" y="75" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">S</text>
      
      <circle cx="200" cy="70" r="20" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="2" />
      <text x="200" y="75" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">A</text>
      
      <circle cx="160" cy="130" r="20" fill="#3d4d6b" stroke="#fff" strokeWidth="2" />
      <text x="160" y="135" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">B</text>
      
      <circle cx="320" cy="70" r="20" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="2" />
      <text x="320" y="75" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">C</text>
      
      <circle cx="440" cy="70" r="20" fill="#0d8bd4" stroke="#64f6c8" strokeWidth="2" />
      <text x="440" y="75" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">D</text>
      
      <circle cx="560" cy="70" r="20" fill="#f97316" stroke="#fff" strokeWidth="2" />
      <text x="560" y="75" fill="#fff" fontSize="12" textAnchor="middle" fontWeight="bold">T</text>
      
    </svg>
    
    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(6, 1fr)', gap: '0.5rem', marginTop: '1rem' }}>
      <div style={{ background: 'rgba(251,191,36,0.2)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#fbbf24', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>S</p>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', margin: 0 }}>d=0</p>
      </div>
      <div style={{ background: 'rgba(13,139,212,0.2)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#0d8bd4', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>A</p>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', margin: 0 }}>d=3</p>
      </div>
      <div style={{ background: 'rgba(61,77,107,0.3)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#a0aec0', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>B</p>
        <p style={{ color: '#a0aec0', fontSize: '0.8rem', margin: 0 }}>d=6</p>
      </div>
      <div style={{ background: 'rgba(13,139,212,0.2)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#0d8bd4', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>C</p>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', margin: 0 }}>d=5</p>
      </div>
      <div style={{ background: 'rgba(13,139,212,0.2)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#0d8bd4', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>D</p>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', margin: 0 }}>d=6</p>
      </div>
      <div style={{ background: 'rgba(249,115,22,0.2)', borderRadius: '8px', padding: '0.5rem', textAlign: 'center' }}>
        <p style={{ color: '#f97316', fontSize: '0.9rem', fontWeight: 'bold', margin: 0 }}>T</p>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', margin: 0 }}>d=8</p>
      </div>
    </div>
    <p style={{ textAlign: 'center', color: '#a0aec0', marginTop: '1rem' }}>
      המסלול הקצר: S → A → C → D → T (משקל 3+2+1+2 = 8)
    </p>
  </figure>
</section>

<section id="floyd-warshall" className="greedyDoc__section container">
  <header>
    <p className="greedyDoc__eyebrow">אלגוריתם 4</p>
    <h2>אלגוריתם פלויד-וורשל (Floyd-Warshall)</h2>
  </header>
  
  <div className="greedyDoc__media">
    <article>
      <p>
        <strong>הבעיה:</strong> מציאת מסלולים קצרים בין <strong>כל זוג קודקודים</strong> (All-Pairs Shortest Paths)!
      </p>
      <p>
        לא רק מקודקוד אחד לכולם, אלא מכל אחד לכל אחד. זה שימושי למשל ב-GPS שצריך לדעת מרחקים בין כל שתי ערים.
      </p>
    </article>
  </div>

  <div className="conceptGrid" style={{ marginTop: '1.5rem', marginBottom: '1.5rem' }}>
    <article className="conceptCard conceptCard--explain">
      <p className="conceptCard__label">הרעיון הפשוט</p>
      <h3 className="conceptCard__title">לעבור דרך מישהו?</h3>
      <p className="conceptCard__body">
        <strong>שאלה פשוטה:</strong> האם כדאי לטוס מתל אביב לניו יורק ישירות, או דרך לונדון?
        <br/><br/>
        זה בדיוק מה שהאלגוריתם עושה! עבור כל זוג קודקודים (i, j), הוא שואל:
        <br/><br/>
        <em>"האם כדאי לעבור דרך קודקוד k?"</em>
      </p>
    </article>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">הבנייה ההדרגתית</p>
      <h3 className="conceptCard__title">שלב אחרי שלב</h3>
      <p className="conceptCard__body">
        <strong>שלב 0:</strong> רק קשתות ישירות
        <br/>
        <strong>שלב 1:</strong> מותר לעבור דרך קודקוד 1
        <br/>
        <strong>שלב 2:</strong> מותר לעבור דרך 1 או 2
        <br/>
        <strong>...</strong>
        <br/>
        <strong>שלב V:</strong> מותר לעבור דרך כולם = הפתרון!
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">הנוסחה</p>
      <h3 className="conceptCard__title">בכל שלב k</h3>
      <p className="conceptCard__body">
        <strong>לכל זוג (i, j) שואלים:</strong>
        <br/><br/>
        מה קצר יותר?
        <br/>
        1. המסלול הישן (בלי k)
        <br/>
        2. לעבור דרך k: i→k→j
        <br/><br/>
        <code>D[i][j] = min(D[i][j], D[i][k]+D[k][j])</code>
      </p>
    </article>
  </div>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#64f6c8', marginBottom: '1rem' }}>הרעיון בתמונה: האם כדאי לעבור דרך k?</h4>
    <svg viewBox="0 0 500 150" style={{ width: '100%' }}>
      <defs>
        <marker id="arrow-fw" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#64f6c8" />
        </marker>
        <marker id="arrow-fw-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#fbbf24" />
        </marker>
      </defs>
      
      {/* מסלול ישיר */}
      <line x1="80" y1="75" x2="410" y2="75" stroke="#fbbf24" strokeWidth="3" strokeDasharray="8,4" markerEnd="url(#arrow-fw-gray)" />
      <text x="245" y="65" fill="#fbbf24" fontSize="14" textAnchor="middle" fontWeight="bold">D[i][j] = 10 (ישירות)</text>
      
      {/* מסלול דרך k */}
      <line x1="80" y1="75" x2="235" y2="30" stroke="#64f6c8" strokeWidth="3" markerEnd="url(#arrow-fw)" />
      <line x1="265" y1="30" x2="410" y2="75" stroke="#64f6c8" strokeWidth="3" markerEnd="url(#arrow-fw)" />
      <text x="150" y="40" fill="#64f6c8" fontSize="12" fontWeight="bold">D[i][k] = 3</text>
      <text x="350" y="40" fill="#64f6c8" fontSize="12" fontWeight="bold">D[k][j] = 4</text>
      
      {/* קודקודים */}
      <circle cx="60" cy="75" r="22" fill="#0d8bd4" stroke="#fff" strokeWidth="2" />
      <text x="60" y="82" fill="#fff" fontSize="16" textAnchor="middle" fontWeight="bold">i</text>
      
      <circle cx="250" cy="25" r="22" fill="#a78bfa" stroke="#fff" strokeWidth="2" />
      <text x="250" y="32" fill="#fff" fontSize="16" textAnchor="middle" fontWeight="bold">k</text>
      
      <circle cx="430" cy="75" r="22" fill="#f97316" stroke="#fff" strokeWidth="2" />
      <text x="430" y="82" fill="#fff" fontSize="16" textAnchor="middle" fontWeight="bold">j</text>
      
      
    </svg>
    <p style={{ textAlign: 'center', color: '#a0aec0', marginTop: '0.5rem' }}>
      לעבור דרך k קצר יותר! מעדכנים D[i][j] = 7
    </p>
  </figure>

  <div style={{ 
    direction: 'ltr', 
    textAlign: 'left',
    background: 'rgba(0, 0, 0, 0.4)',
    padding: '1.5rem',
    borderRadius: '12px',
    marginTop: '1rem',
    display: 'flex',
    flexDirection: 'column',

  }}>
    <pre className="greedyDoc__code" style={{
      fontFamily: 'Consolas, Monaco, "Courier New", monospace',
      fontSize: '0.9rem',
      lineHeight: '1.6',
      margin: 0,
      direction: 'ltr',
      textAlign: 'left',
      whiteSpace: 'pre'
    }}>
{`Floyd-Warshall(W):
  // W = weight matrix, W[i][j] = w(i,j)
  1.  n = |V|
  2.  D = W                    // D[i][j] = distance
  3.  
  4.  for k = 1 to n:          // try each vertex as intermediate
  5.      for i = 1 to n:       // for each source
  6.          for j = 1 to n:   // for each destination
  7.              // Is it shorter to go through k?
  8.              if D[i][j] > D[i][k] + D[k][j]:
  9.                  D[i][j] = D[i][k] + D[k][j]
 10.  
 11.  return D

Time: O(V³)  |  Space: O(V²)`}
    </pre>
</div>

  <div className="conceptGrid" style={{ marginTop: '2rem' }}>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">למה 3 לולאות?</p>
      <h3 className="conceptCard__title">k, i, j</h3>
      <p className="conceptCard__body">
        <strong>k (חיצונית):</strong> איזה קודקוד מנסים כביניים
        <br/><br/>
        <strong>i (אמצעית):</strong> מאיפה יוצאים
        <br/><br/>
        <strong>j (פנימית):</strong> לאן מגיעים
        <br/><br/>
        סה"כ: V × V × V = <strong>O(V³)</strong>
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">זיהוי מעגל שלילי</p>
      <h3 className="conceptCard__title">איך יודעים?</h3>
      <p className="conceptCard__body">
        <strong>בדיקה פשוטה:</strong>
        <br/>
        אם D[i][i] {'<'} 0 לאיזשהו i
        <br/><br/>
        <strong>למה?</strong> D[i][i] = מרחק מקודקוד לעצמו.
        <br/>
        בדר"כ זה 0. אם זה שלילי - יש מעגל שלילי!
      </p>
    </article>
    <article className="conceptCard conceptCard--property">
      <p className="conceptCard__label">מתי משתמשים?</p>
      <h3 className="conceptCard__title">שימושים</h3>
      <p className="conceptCard__body">
        <strong>✓</strong> צריך מרחקים בין כל זוג
        <br/>
        <strong>✓</strong> גרף צפוף (הרבה קשתות)
        <br/>
        <strong>✓</strong> יש משקלות שליליים
        <br/>
        <strong>✓</strong> הקוד פשוט מאוד!
        <br/><br/>
        <strong>✗</strong> גרף דליל → V×דייקסטרה יותר מהיר
      </p>
    </article>
  </div>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#64f6c8', marginBottom: '1rem' }}>דוגמה מלאה: גרף עם 4 קודקודים</h4>
    
    {/* הגרף */}
    <svg viewBox="0 0 400 180" style={{ width: '100%', maxWidth: '400px', margin: '0 auto', display: 'block' }}>
      <defs>
        <marker id="arrow-ex" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#64f6c8" />
        </marker>
      </defs>
      
      {/* קשתות */}
      <line x1="80" y1="50" x2="295" y2="50" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-ex)" />
      <line x1="80" y1="65" x2="80" y2="115" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-ex)" />
      <line x1="95" y1="130" x2="295" y2="130" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-ex)" />
      <line x1="310" y1="65" x2="310" y2="115" stroke="#64f6c8" strokeWidth="2" markerEnd="url(#arrow-ex)" />
      <line x1="95" y1="55" x2="295" y2="125" stroke="#a78bfa" strokeWidth="2" strokeDasharray="5,3" markerEnd="url(#arrow-ex)" />
      
      {/* משקלים */}
      <text x="185" y="40" fill="#64f6c8" fontSize="14" fontWeight="bold">3</text>
      <text x="55" y="95" fill="#64f6c8" fontSize="14" fontWeight="bold">2</text>
      <text x="185" y="155" fill="#64f6c8" fontSize="14" fontWeight="bold">4</text>
      <text x="325" y="95" fill="#64f6c8" fontSize="14" fontWeight="bold">1</text>
      <text x="200" y="85" fill="#a78bfa" fontSize="12">8</text>
      
      {/* קודקודים */}
      <circle cx="70" cy="50" r="20" fill="#0d8bd4" stroke="#fff" strokeWidth="2" />
      <text x="70" y="56" fill="#fff" fontSize="14" textAnchor="middle" fontWeight="bold">1</text>
      
      <circle cx="70" cy="130" r="20" fill="#0d8bd4" stroke="#fff" strokeWidth="2" />
      <text x="70" y="136" fill="#fff" fontSize="14" textAnchor="middle" fontWeight="bold">2</text>
      
      <circle cx="320" cy="50" r="20" fill="#0d8bd4" stroke="#fff" strokeWidth="2" />
      <text x="320" y="56" fill="#fff" fontSize="14" textAnchor="middle" fontWeight="bold">3</text>
      
      <circle cx="320" cy="130" r="20" fill="#f97316" stroke="#fff" strokeWidth="2" />
      <text x="320" y="136" fill="#fff" fontSize="14" textAnchor="middle" fontWeight="bold">4</text>
    </svg>
    <p style={{ textAlign: 'center', color: '#a0aec0', fontSize: '0.9rem', marginTop: '0.5rem' }}>
      הקשת המקווקוות 1→4 (משקל 8) תתעדכן כשנגלה מסלול קצר יותר
    </p>
  </figure>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#64f6c8', marginBottom: '1rem' }}>טבלת מרחקים D (לפני ואחרי)</h4>
    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '2rem', flexWrap: 'wrap' }}>
      <div style={{ textAlign: 'center' }}>
        <p style={{ color: '#fbbf24', marginBottom: '0.5rem' }}>D⁽⁰⁾ - רק קשתות ישירות</p>
        <table style={{ borderCollapse: 'collapse', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' }}>
          <tbody>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a0aec0' }}>D</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fbbf24' }}>8</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>4</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td></tr>
          </tbody>
        </table>
      </div>
      <div style={{ fontSize: '2rem', color: '#64f6c8' }}>→</div>
      <div style={{ textAlign: 'center' }}>
        <p style={{ color: '#64f6c8', marginBottom: '0.5rem' }}>D⁽⁴⁾ - אחרי כל האיטרציות</p>
        <table style={{ borderCollapse: 'collapse', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' }}>
          <tbody>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a0aec0' }}>D</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8', fontWeight: 'bold' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8' }}>4</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>∞</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>0</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    <p style={{ textAlign: 'center', color: '#a0aec0', marginTop: '1rem' }}>
      <strong>D[1][4]:</strong> ירד מ-8 ל-4, כי מצאנו 1→3→4 (משקל 3+1=4)
    </p>
  </figure>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#a78bfa', marginBottom: '1rem' }}>טבלת אבות π (מי האב של מי במסלול?)</h4>
    <p style={{ textAlign: 'center', color: '#a0aec0', marginBottom: '1rem', fontSize: '0.9rem' }}>
      π[i][j] = הקודקוד <strong>לפני</strong> j במסלול הקצר מ-i ל-j
    </p>
    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '2rem', flexWrap: 'wrap' }}>
      <div style={{ textAlign: 'center' }}>
        <p style={{ color: '#fbbf24', marginBottom: '0.5rem' }}>π⁽⁰⁾ - התחלה</p>
        <table style={{ borderCollapse: 'collapse', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' }}>
          <tbody>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a0aec0' }}>π</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fbbf24' }}>1</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>2</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>3</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>4</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td></tr>
          </tbody>
        </table>
        <p style={{ color: '#a0aec0', fontSize: '0.8rem', marginTop: '0.5rem' }}>π[1][4]=1 (ישירות)</p>
      </div>
      <div style={{ fontSize: '2rem', color: '#a78bfa' }}>→</div>
      <div style={{ textAlign: 'center' }}>
        <p style={{ color: '#a78bfa', marginBottom: '0.5rem' }}>π⁽⁴⁾ - סופי</p>
        <table style={{ borderCollapse: 'collapse', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' }}>
          <tbody>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a0aec0' }}>π</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>4</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>1</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#64f6c8', fontWeight: 'bold' }}>3</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>2</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>2</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>3</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>3</td></tr>
            <tr><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#a78bfa' }}>4</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td><td style={{ padding: '8px', border: '1px solid #3d4d6b', color: '#fff' }}>-</td></tr>
          </tbody>
        </table>
        <p style={{ color: '#64f6c8', fontSize: '0.8rem', marginTop: '0.5rem' }}>π[1][4]=3 (דרך 3!)</p>
      </div>
    </div>
    <div style={{ marginTop: '1.5rem', padding: '1rem', background: 'rgba(167,139,250,0.15)', borderRadius: '8px', border: '1px solid rgba(167,139,250,0.3)' }}>
      <p style={{ textAlign: 'center', color: '#a78bfa', fontWeight: 'bold', marginBottom: '0.5rem' }}>איך קוראים את טבלת האבות?</p>
      <p style={{ textAlign: 'center', color: '#fff', margin: 0 }}>
        <strong>מסלול מ-1 ל-4:</strong> π[1][4]=3, אז לפני 4 יש 3. π[1][3]=1, אז לפני 3 יש 1.
        <br/>
        <span style={{ color: '#64f6c8', fontSize: '1.1rem' }}>→ המסלול: 1 → 3 → 4</span>
      </p>
    </div>
  </figure>

  <figure style={{ margin: '2rem 0', padding: '1.5rem', background: 'rgba(0,0,0,0.2)', borderRadius: '16px' }}>
    <h4 style={{ textAlign: 'center', color: '#fbbf24', marginBottom: '1rem' }}>מה קרה בשלב k=3?</h4>
    <p style={{ textAlign: 'center', color: '#a0aec0', marginBottom: '1rem' }}>
      בודקים לכל זוג (i,j): האם לעבור דרך קודקוד 3 קצר יותר?
    </p>
    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>
      <div style={{ background: 'rgba(0,0,0,0.3)', borderRadius: '8px', padding: '1rem' }}>
        <p style={{ color: '#fbbf24', fontWeight: 'bold', marginBottom: '0.5rem' }}>בדיקה: D[1][4]</p>
        <p style={{ color: '#fff', fontSize: '0.9rem', margin: 0 }}>
          ישיר: D[1][4] = 8<br/>
          דרך 3: D[1][3] + D[3][4] = 3 + 1 = 4<br/>
          <span style={{ color: '#64f6c8' }}>4 {'<'} 8 ✓ → מעדכנים!</span>
        </p>
      </div>
      <div style={{ background: 'rgba(0,0,0,0.3)', borderRadius: '8px', padding: '1rem' }}>
        <p style={{ color: '#fbbf24', fontWeight: 'bold', marginBottom: '0.5rem' }}>עדכון D ו-π</p>
        <p style={{ color: '#fff', fontSize: '0.9rem', margin: 0 }}>
          D[1][4] = 4 (במקום 8)<br/>
          π[1][4] = 3 (במקום 1)<br/>
          <span style={{ color: '#a78bfa' }}>עכשיו יודעים: 1→4 עובר דרך 3</span>
        </p>
      </div>
    </div>
  </figure>
</section>

<section id="summary" className="greedyDoc__section container">
  <header>
    <p className="greedyDoc__eyebrow">סיכום</p>
    <h2>השוואת אלגוריתמים</h2>
  </header>

  <div style={{ overflowX: 'auto', marginTop: '1.5rem' }}>
    <table style={{ width: '100%', borderCollapse: 'collapse', background: 'rgba(0,0,0,0.2)', borderRadius: '16px', overflow: 'hidden' }}>
      <thead>
        <tr style={{ background: 'rgba(100,246,200,0.2)' }}>
          <th style={{ padding: '1rem', textAlign: 'right', borderBottom: '2px solid #64f6c8', color: '#64f6c8' }}>אלגוריתם</th>
          <th style={{ padding: '1rem', textAlign: 'center', borderBottom: '2px solid #64f6c8', color: '#64f6c8' }}>סיבוכיות</th>
          <th style={{ padding: '1rem', textAlign: 'center', borderBottom: '2px solid #64f6c8', color: '#64f6c8' }}>משקלות שליליים</th>
          <th style={{ padding: '1rem', textAlign: 'right', borderBottom: '2px solid #64f6c8', color: '#64f6c8' }}>הערות</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fbbf24', fontWeight: 'bold' }}>דייקסטרה</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fff', textAlign: 'center' }}>O((V+E) log V)</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', textAlign: 'center', color: '#ef4444' }}>✗</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#a0aec0' }}>הכי מהיר לגרפים עם משקלות חיוביים</td>
        </tr>
        <tr>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fbbf24', fontWeight: 'bold' }}>בלמן-פורד</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fff', textAlign: 'center' }}>O(V · E)</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', textAlign: 'center', color: '#22c55e' }}>✓</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#a0aec0' }}>מזהה מעגלים שליליים</td>
        </tr>
        <tr>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fbbf24', fontWeight: 'bold' }}>DAG</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#fff', textAlign: 'center' }}>O(V + E)</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', textAlign: 'center', color: '#22c55e' }}>✓</td>
          <td style={{ padding: '1rem', borderBottom: '1px solid #3d4d6b', color: '#a0aec0' }}>רק לגרפים ללא מעגלים</td>
        </tr>
        <tr>
          <td style={{ padding: '1rem', color: '#fbbf24', fontWeight: 'bold' }}>פלויד-וורשל</td>
          <td style={{ padding: '1rem', color: '#fff', textAlign: 'center' }}>O(V³)</td>
          <td style={{ padding: '1rem', textAlign: 'center', color: '#22c55e' }}>✓</td>
          <td style={{ padding: '1rem', color: '#a0aec0' }}>כל הזוגות, מזהה מעגלים שליליים</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div className="conceptGrid" style={{ marginTop: '2rem' }}>
    <article className="conceptCard conceptCard--algorithm">
      <p className="conceptCard__label">בחירת אלגוריתם</p>
      <h3 className="conceptCard__title">מקור יחיד</h3>
      <p className="conceptCard__body">
        <strong>משקלות ≥ 0?</strong> דייקסטרה!
        <br/><br/>
        <strong>DAG?</strong> סדר טופולוגי!
        <br/><br/>
        <strong>משקלות שליליים?</strong> בלמן-פורד
      </p>
    </article>
    <article className="conceptCard conceptCard--solution">
      <p className="conceptCard__label">בחירת אלגוריתם</p>
      <h3 className="conceptCard__title">כל הזוגות</h3>
      <p className="conceptCard__body">
        <strong>גרף צפוף (E ≈ V²)?</strong> פלויד-וורשל
        <br/><br/>
        <strong>גרף דליל?</strong> V פעמים דייקסטרה: O(V·E log V)
        <br/><br/>
        <strong>משקלות שליליים?</strong> פלויד-וורשל
      </p>
    </article>
    <article className="conceptCard conceptCard--property">
      <p className="conceptCard__label">זכור!</p>
      <h3 className="conceptCard__title">נקודות חשובות</h3>
      <p className="conceptCard__body">
        <strong>הרפיה:</strong> הפעולה הבסיסית בכל האלגוריתמים
        <br/><br/>
        <strong>מעגל שלילי:</strong> הופך את הבעיה ללא מוגדרת
        <br/><br/>
        <strong>עץ מסלולים:</strong> π מגדיר את עץ המסלולים הקצרים
      </p>
    </article>
  </div>
</section>

